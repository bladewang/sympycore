<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4.1: http://docutils.sourceforge.net/" />
<title>Automatic evaluation rules of symbolic expressions</title>
<meta name="authors" content="Pearu Peterson &lt;pearu.peterson AT gmail DOT com&gt;" />
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="automatic-evaluation-rules-of-symbolic-expressions">
<h1 class="title">Automatic evaluation rules of symbolic expressions</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Authors:</th>
<td>Pearu Peterson &lt;pearu.peterson AT gmail DOT com&gt;</td></tr>
<tr class="field"><th class="docinfo-name">Created:</th><td class="field-body">February 2008</td>
</tr>
</tbody>
</table>
<!-- -*- rest -*- -->
<div class="sidebar">
<p class="first sidebar-title">Table of contents</p>
<div class="contents local last topic">
<ul class="auto-toc simple">
<li><a class="reference" href="#introduction" id="id4" name="id4">1&nbsp;&nbsp;&nbsp;Introduction</a></li>
<li><a class="reference" href="#commutative-ring-operations" id="id5" name="id5">2&nbsp;&nbsp;&nbsp;Commutative ring operations</a><ul class="auto-toc">
<li><a class="reference" href="#operands" id="id6" name="id6">2.1&nbsp;&nbsp;&nbsp;Operands</a></li>
<li><a class="reference" href="#operations" id="id7" name="id7">2.2&nbsp;&nbsp;&nbsp;Operations</a></li>
<li><a class="reference" href="#operations-with-numbers" id="id8" name="id8">2.3&nbsp;&nbsp;&nbsp;Operations with numbers</a></li>
<li><a class="reference" href="#operations-with-extended-numbers" id="id9" name="id9">2.4&nbsp;&nbsp;&nbsp;Operations with extended numbers</a></li>
</ul>
</li>
<li><a class="reference" href="#function-evaluations" id="id10" name="id10">3&nbsp;&nbsp;&nbsp;Function evaluations</a></li>
</ul>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id4" id="introduction" name="introduction">1&nbsp;&nbsp;&nbsp;Introduction</a></h1>
<p>This document gathers rules that are applied automatically when
performing operations with symbolic expressions.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id5" id="commutative-ring-operations" name="commutative-ring-operations">2&nbsp;&nbsp;&nbsp;Commutative ring operations</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id6" id="operands" name="operands">2.1&nbsp;&nbsp;&nbsp;Operands</a></h2>
<p>In commutative ring operations, four types of operands are possible:</p>
<blockquote>
<ul class="simple">
<li>numbers, see examples below;</li>
<li>sums, e.g. <tt class="docutils literal"><span class="pre">3+x</span></tt>, <tt class="docutils literal"><span class="pre">-1/2+x+y</span></tt>;</li>
<li>products, e.g. <tt class="docutils literal"><span class="pre">3*x</span></tt>, <tt class="docutils literal"><span class="pre">x**2</span> <span class="pre">*</span> <span class="pre">z</span></tt>;</li>
<li>symbols, e.g. <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">sin(x+z**2)</span></tt>.</li>
</ul>
</blockquote>
<p>Depending on a particular ring, numbers can be</p>
<blockquote>
<ul class="simple">
<li>integers, e.g. <tt class="docutils literal"><span class="pre">-4</span></tt>, <tt class="docutils literal"><span class="pre">0</span></tt>, <tt class="docutils literal"><span class="pre">1</span></tt>;</li>
<li>fractions, e.g. <tt class="docutils literal"><span class="pre">1/2</span></tt>, <tt class="docutils literal"><span class="pre">-3/4</span></tt>;</li>
<li>complex numbers, e.g. <tt class="docutils literal"><span class="pre">2+3/4*I</span></tt>, <tt class="docutils literal"><span class="pre">-4*I</span></tt>;</li>
<li>floating point numbers, e.g. <tt class="docutils literal"><span class="pre">1.2</span></tt>, <tt class="docutils literal"><span class="pre">-3.14</span></tt>;</li>
<li>extended numbers, e.g. <tt class="docutils literal"><span class="pre">+oo</span></tt>, <tt class="docutils literal"><span class="pre">-oo</span></tt>, <tt class="docutils literal"><span class="pre">zoo</span></tt>, <tt class="docutils literal"><span class="pre">undefined</span></tt>;</li>
</ul>
</blockquote>
<p>where real and imaginary parts of complex numbers can be integers,
fractions, or floating point numbers.</p>
<div class="admonition-metarule-1 admonition">
<p class="first admonition-title">Metarule 1</p>
<p class="last">Any rule containing symbols, should remain valid when the symbols
are replaced by numbers.</p>
</div>
<p>Expressions containing extended numbers require special rules as
distributivity laws are not valid for extended numbers. Note that the
distributivity law is not strictly valid also for operations with
floating point numbers.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id7" id="operations" name="operations">2.2&nbsp;&nbsp;&nbsp;Operations</a></h2>
<p>In the following we consider three kinds of operations with operands:</p>
<blockquote>
<ul class="simple">
<li>addition: <tt class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></tt></li>
<li>multiplication: <tt class="docutils literal"><span class="pre">x</span> <span class="pre">*</span> <span class="pre">y</span></tt></li>
<li>exponentiation: <tt class="docutils literal"><span class="pre">x</span> <span class="pre">**</span> <span class="pre">y</span></tt></li>
</ul>
</blockquote>
<p>These operations can be used to define other operations</p>
<blockquote>
<ul class="simple">
<li>negation: <tt class="docutils literal"><span class="pre">-x</span> <span class="pre">==</span> <span class="pre">x</span> <span class="pre">*</span> <span class="pre">(-1)</span></tt></li>
<li>subtraction: <tt class="docutils literal"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span> <span class="pre">==</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">(-y)</span></tt></li>
<li>division: <tt class="docutils literal"><span class="pre">x</span> <span class="pre">/</span> <span class="pre">y</span> <span class="pre">==</span> <span class="pre">x</span> <span class="pre">*</span> <span class="pre">y**(-1)</span></tt></li>
</ul>
</blockquote>
<p>and hence there is no need to write rules for these operations.</p>
<div class="admonition-rule-1-associativity admonition">
<p class="first admonition-title">Rule 1: associativity</p>
<p>In <a class="reference" href="http://en.wikipedia.org/wiki/Associative">associative</a> operations all parenthesis are eliminated
(expressions are <em>flattened</em> and suboperands of operands are stored
in the same set-like data structure).</p>
<p>For example:</p>
<pre class="last literal-block">
x + (y + z) -&gt; x + y + z
(x + y) + z -&gt; x + y + z
x * (y * z) -&gt; x * y * z
(x * y) * z -&gt; x * y * z
</pre>
</div>
<div class="admonition-rule-2-commutativity admonition">
<p class="first admonition-title">Rule 2: commutativity</p>
<p>In <a class="reference" href="http://en.wikipedia.org/wiki/Commutativity">commutative</a> operations the order of operands is insignificant
(operands are stored in an unordered set-like data structure).</p>
<p>For example:</p>
<pre class="last literal-block">
x + y == y + x
x * y == y * x
</pre>
</div>
<div class="admonition-rule-3-collecting-equal-expressions admonition">
<p class="first admonition-title">Rule 3: collecting equal expressions</p>
<p>In commutative operations <em>equal</em> expressions are collected. The
equality is defined as an <em>equality between data structures</em> which
may not be equivalent to <em>mathematical equality</em>.</p>
<p>For example:</p>
<pre class="last literal-block">
x + x -&gt; 2*x
x * x -&gt; x**2
</pre>
</div>
<div class="admonition-rule-4-operations-with-zero admonition">
<p class="first admonition-title">Rule 4: operations with zero.</p>
<p>Multiplication by zero is zero only when a non-zero operand does not
contain extended numbers explicitly.</p>
<p>For example:</p>
<pre class="literal-block">
0 * x -&gt; 0
0 * (x + oo) -&gt; 0 * (x + oo)
</pre>
<p>Exponentiation by zero results one.</p>
<p>For example:</p>
<pre class="last literal-block">
x**0 -&gt; 1
oo**0 -&gt; 1
</pre>
</div>
<div class="admonition-rule-5-distributivity admonition">
<p class="first admonition-title">Rule 5: distributivity</p>
<p><a class="reference" href="http://en.wikipedia.org/wiki/Distributivity">Distributivity</a> law of multiplication over addition is applied
only when a sum is multiplied by a number that is not extended
number.</p>
<p>For example:</p>
<pre class="last literal-block">
3*(x + y) -&gt; 3*x + 3*y
(3 + x)/2 -&gt; 3/2 + 1/2*x
oo*(2 + x) -&gt; oo*(2 + x)
</pre>
</div>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id8" id="operations-with-numbers" name="operations-with-numbers">2.3&nbsp;&nbsp;&nbsp;Operations with numbers</a></h2>
<p>Addition and multiplication operations with numbers always result in a number.</p>
<p>XXX: add rules for exponentiation with integers, fractions.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id9" id="operations-with-extended-numbers" name="operations-with-extended-numbers">2.4&nbsp;&nbsp;&nbsp;Operations with extended numbers</a></h2>
<p><a class="reference" href="http://code.google.com/p/sympycore/wiki/ExtendedNumbers">http://code.google.com/p/sympycore/wiki/ExtendedNumbers</a></p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id10" id="function-evaluations" name="function-evaluations">3&nbsp;&nbsp;&nbsp;Function evaluations</a></h1>
<p>XXX: explain the rules for evaluating elementary functions such as
<tt class="docutils literal"><span class="pre">sin</span></tt>, <tt class="docutils literal"><span class="pre">cos</span></tt>, etc.</p>
</div>
</div>
</body>
</html>
